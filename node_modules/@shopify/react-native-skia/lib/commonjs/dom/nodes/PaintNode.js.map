{"version":3,"names":["PaintNode","JsiDeclarationNode","constructor","ctx","props","DeclarationType","Paint","NodeType","materialize","color","strokeWidth","blendMode","style","strokeJoin","strokeCap","strokeMiter","opacity","antiAlias","paint","Skia","undefined","setColor","Color","setStrokeWidth","setBlendMode","BlendMode","enumKey","setStyle","PaintStyle","setStrokeJoin","StrokeJoin","setStrokeCap","StrokeCap","setStrokeMiter","setAlphaf","setAntiAlias","_children","forEach","child","isShader","setShader","isColorFilter","setColorFilter","isImageFilter","setImageFilter","isMaskFilter","setMaskFilter","isPathEffect","setPathEffect","Error","type"],"sources":["PaintNode.ts"],"sourcesContent":["import type { SkPaint } from \"../../skia/types\";\nimport { StrokeCap, StrokeJoin, PaintStyle, BlendMode } from \"../../skia/types\";\nimport type { DeclarationNode, PaintProps } from \"../types\";\nimport { DeclarationType, NodeType } from \"../types\";\n\nimport { enumKey } from \"./datatypes\";\nimport type { NodeContext } from \"./Node\";\nimport { JsiDeclarationNode } from \"./Node\";\n\nexport class PaintNode\n  extends JsiDeclarationNode<PaintProps, SkPaint>\n  implements DeclarationNode<PaintProps, SkPaint>\n{\n  constructor(ctx: NodeContext, props: PaintProps = {}) {\n    super(ctx, DeclarationType.Paint, NodeType.Paint, props);\n  }\n\n  materialize() {\n    const {\n      color,\n      strokeWidth,\n      blendMode,\n      style,\n      strokeJoin,\n      strokeCap,\n      strokeMiter,\n      opacity,\n      antiAlias,\n    } = this.props;\n    const paint = this.Skia.Paint();\n    if (color !== undefined) {\n      paint.setColor(this.Skia.Color(color));\n    }\n    if (strokeWidth !== undefined) {\n      paint.setStrokeWidth(strokeWidth);\n    }\n    if (blendMode !== undefined) {\n      paint.setBlendMode(BlendMode[enumKey(blendMode)]);\n    }\n    if (style !== undefined) {\n      paint.setStyle(PaintStyle[enumKey(style)]);\n    }\n    if (strokeJoin !== undefined) {\n      paint.setStrokeJoin(StrokeJoin[enumKey(strokeJoin)]);\n    }\n    if (strokeCap !== undefined) {\n      paint.setStrokeCap(StrokeCap[enumKey(strokeCap)]);\n    }\n    if (strokeMiter !== undefined) {\n      paint.setStrokeMiter(strokeMiter);\n    }\n    if (opacity !== undefined) {\n      paint.setAlphaf(opacity);\n    }\n    if (antiAlias !== undefined) {\n      paint.setAntiAlias(antiAlias);\n    }\n    this._children.forEach((child) => {\n      if (child instanceof JsiDeclarationNode) {\n        if (child.isShader()) {\n          paint.setShader(child.materialize());\n        } else if (child.isColorFilter()) {\n          paint.setColorFilter(child.materialize());\n        } else if (child.isImageFilter()) {\n          paint.setImageFilter(child.materialize());\n        } else if (child.isMaskFilter()) {\n          paint.setMaskFilter(child.materialize());\n        } else if (child.isPathEffect()) {\n          paint.setPathEffect(child.materialize());\n        } else {\n          throw new Error(`Unknown paint child ${child.type}`);\n        }\n      }\n    });\n    return paint;\n  }\n}\n"],"mappings":";;;;;;;AACA;;AAEA;;AAEA;;AAEA;;AAEO,MAAMA,SAAN,SACGC,wBADH,CAGP;EACEC,WAAW,CAACC,GAAD,EAA2C;IAAA,IAAxBC,KAAwB,uEAAJ,EAAI;IACpD,MAAMD,GAAN,EAAWE,uBAAA,CAAgBC,KAA3B,EAAkCC,gBAAA,CAASD,KAA3C,EAAkDF,KAAlD;EACD;;EAEDI,WAAW,GAAG;IACZ,MAAM;MACJC,KADI;MAEJC,WAFI;MAGJC,SAHI;MAIJC,KAJI;MAKJC,UALI;MAMJC,SANI;MAOJC,WAPI;MAQJC,OARI;MASJC;IATI,IAUF,KAAKb,KAVT;IAWA,MAAMc,KAAK,GAAG,KAAKC,IAAL,CAAUb,KAAV,EAAd;;IACA,IAAIG,KAAK,KAAKW,SAAd,EAAyB;MACvBF,KAAK,CAACG,QAAN,CAAe,KAAKF,IAAL,CAAUG,KAAV,CAAgBb,KAAhB,CAAf;IACD;;IACD,IAAIC,WAAW,KAAKU,SAApB,EAA+B;MAC7BF,KAAK,CAACK,cAAN,CAAqBb,WAArB;IACD;;IACD,IAAIC,SAAS,KAAKS,SAAlB,EAA6B;MAC3BF,KAAK,CAACM,YAAN,CAAmBC,gBAAA,CAAU,IAAAC,kBAAA,EAAQf,SAAR,CAAV,CAAnB;IACD;;IACD,IAAIC,KAAK,KAAKQ,SAAd,EAAyB;MACvBF,KAAK,CAACS,QAAN,CAAeC,iBAAA,CAAW,IAAAF,kBAAA,EAAQd,KAAR,CAAX,CAAf;IACD;;IACD,IAAIC,UAAU,KAAKO,SAAnB,EAA8B;MAC5BF,KAAK,CAACW,aAAN,CAAoBC,iBAAA,CAAW,IAAAJ,kBAAA,EAAQb,UAAR,CAAX,CAApB;IACD;;IACD,IAAIC,SAAS,KAAKM,SAAlB,EAA6B;MAC3BF,KAAK,CAACa,YAAN,CAAmBC,gBAAA,CAAU,IAAAN,kBAAA,EAAQZ,SAAR,CAAV,CAAnB;IACD;;IACD,IAAIC,WAAW,KAAKK,SAApB,EAA+B;MAC7BF,KAAK,CAACe,cAAN,CAAqBlB,WAArB;IACD;;IACD,IAAIC,OAAO,KAAKI,SAAhB,EAA2B;MACzBF,KAAK,CAACgB,SAAN,CAAgBlB,OAAhB;IACD;;IACD,IAAIC,SAAS,KAAKG,SAAlB,EAA6B;MAC3BF,KAAK,CAACiB,YAAN,CAAmBlB,SAAnB;IACD;;IACD,KAAKmB,SAAL,CAAeC,OAAf,CAAwBC,KAAD,IAAW;MAChC,IAAIA,KAAK,YAAYrC,wBAArB,EAAyC;QACvC,IAAIqC,KAAK,CAACC,QAAN,EAAJ,EAAsB;UACpBrB,KAAK,CAACsB,SAAN,CAAgBF,KAAK,CAAC9B,WAAN,EAAhB;QACD,CAFD,MAEO,IAAI8B,KAAK,CAACG,aAAN,EAAJ,EAA2B;UAChCvB,KAAK,CAACwB,cAAN,CAAqBJ,KAAK,CAAC9B,WAAN,EAArB;QACD,CAFM,MAEA,IAAI8B,KAAK,CAACK,aAAN,EAAJ,EAA2B;UAChCzB,KAAK,CAAC0B,cAAN,CAAqBN,KAAK,CAAC9B,WAAN,EAArB;QACD,CAFM,MAEA,IAAI8B,KAAK,CAACO,YAAN,EAAJ,EAA0B;UAC/B3B,KAAK,CAAC4B,aAAN,CAAoBR,KAAK,CAAC9B,WAAN,EAApB;QACD,CAFM,MAEA,IAAI8B,KAAK,CAACS,YAAN,EAAJ,EAA0B;UAC/B7B,KAAK,CAAC8B,aAAN,CAAoBV,KAAK,CAAC9B,WAAN,EAApB;QACD,CAFM,MAEA;UACL,MAAM,IAAIyC,KAAJ,CAAW,uBAAsBX,KAAK,CAACY,IAAK,EAA5C,CAAN;QACD;MACF;IACF,CAhBD;;IAiBA,OAAOhC,KAAP;EACD;;AA/DH"}