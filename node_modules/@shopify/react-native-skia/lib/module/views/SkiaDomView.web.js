import { PixelRatio } from "react-native";
import { Skia } from "../skia";
import { SkiaBaseWebView } from "./SkiaBaseWebView";
const pd = PixelRatio.get();
export class SkiaDomView extends SkiaBaseWebView {
  constructor(props) {
    super(props);
  }

  renderInCanvas(canvas, touches) {
    if (this.props.onTouch) {
      this.props.onTouch([touches]);
    }

    if (this.props.onSize) {
      const {
        width,
        height
      } = this.getSize();
      this.props.onSize.current = {
        width,
        height
      };
    }

    if (this.props.root) {
      const paint = Skia.Paint();
      const ctx = {
        canvas,
        paint,
        opacity: 1
      };
      canvas.save();
      canvas.scale(pd, pd);
      this.props.root.render(ctx);
      canvas.restore();
    }
  }

}
//# sourceMappingURL=SkiaDomView.web.js.map